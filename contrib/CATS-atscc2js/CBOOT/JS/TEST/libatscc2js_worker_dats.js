/*
**
** The JavaScript code is generated by atscc2js
** The starting compilation time is: 2016-12-27: 17h:12m
**
*/

/* ATSextcode_beg() */
//
var
theWorker_cont;
//
self.onmessage =
function(event)
{
  var k0 = theWorker_cont;
  return ats2jspre_cloref2_app(k0, 0, event.data);
}
//
function
ats2js_worker_chanpos0_recv
  (chp, k0)
{
  theWorker_cont = k0; return;
}
function
ats2js_worker_chanpos0_send
  (chp, x0, k0)
{
  postMessage(x0); return ats2jspre_cloref1_app(k0, 0);
}
//
function
ats2js_worker_chanpos1_recv
  (chp, k0)
{
  return ats2js_worker_chanpos0_recv(chp, k0);
}
function
ats2js_worker_chanpos1_send
  (chp, x0, k0)
{
  return ats2js_worker_chanpos0_send(chp, x0, k0);
}
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
ats2js_worker_chanpos0_close(chp) { return self.close(); }
function
ats2js_worker_chanpos1_close(chp) { return self.close(); }
//
/* ATSextcode_end() */

/* ATSextcode_beg() */
//
function
emcc_string(inp)
{
//
var
out = Module._malloc(inp.length+1);
//
Module.writeStringToMemory(inp, out); return out;
//
} // end of [emcc_string]
//
function
un_emcc_string(ptr) { return Pointer_stringify(ptr); }
//
/* ATSextcode_end() */

function
__patsfun_34__closurerize()
{
  return [function(cenv, arg0) { return __patsfun_34(arg0); }];
}


function
__patsfun_1__1__1__closurerize(env0)
{
  return [function(cenv, arg0, arg1) { return __patsfun_1__1__1(cenv[1], arg0, arg1); }, env0];
}


function
__patsfun_2__2__1__closurerize(env0)
{
  return [function(cenv, arg0) { return __patsfun_2__2__1(cenv[1], arg0); }, env0];
}


function
__patsfun_49__closurerize()
{
  return [function(cenv, arg0) { return __patsfun_49(arg0); }];
}


function
emcc_comarg(arg0)
{
//
// knd = 0
  var tmpret44
  var tmp45
  var tmp46
  var tmp47
  var tmp48
  var tmp49
  var tmp50
  var tmp51
  var tmp52
  var tmplab, tmplab_js
//
  // __patsflab_emcc_comarg
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab18
      if(!ATSCKpat_con1(arg0, 0)) { tmplab_js = 3; break; }
      case 2: // __atstmplab19
      tmp45 = arg0[1];
      tmp49 = emcc_string(tmp45);
      tmpret44 = _libatscc2js_comarg_strlit(tmp49);
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab20
      if(!ATSCKpat_con1(arg0, 1)) { tmplab_js = 5; break; }
      case 4: // __atstmplab21
      tmp46 = arg0[1];
      tmp50 = emcc_string(tmp46);
      tmpret44 = _libatscc2js_comarg_strinp(tmp50);
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 5: // __atstmplab22
      if(!ATSCKpat_con1(arg0, 2)) { tmplab_js = 7; break; }
      case 6: // __atstmplab23
      tmp47 = arg0[1];
      tmp51 = emcc_string(tmp47);
      tmpret44 = _libatscc2js_comarg_prefil(tmp51);
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 7: // __atstmplab24
      case 8: // __atstmplab25
      tmp48 = arg0[1];
      tmp52 = emcc_string(tmp48);
      tmpret44 = _libatscc2js_comarg_postfil(tmp52);
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret44;
} // end-of-function


function
emcc_comarglst(arg0)
{
//
// knd = 0
  var tmpret53
  var tmp54
  var tmp55
  var tmp56
  var tmp57
  var tmplab, tmplab_js
//
  // __patsflab_emcc_comarglst
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab26
      if(ATSCKptriscons(arg0)) { tmplab_js = 4; break; }
      case 2: // __atstmplab27
      tmpret53 = _libatscc2js_comarglst_nil();
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab28
      case 4: // __atstmplab29
      tmp54 = arg0[0];
      tmp55 = arg0[1];
      tmp56 = emcc_comarg(tmp54);
      tmp57 = emcc_comarglst(tmp55);
      tmpret53 = _libatscc2js_comarglst_cons(tmp56, tmp57);
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret53;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__my_atscc2jsres_main_arglst(arg0)
{
//
// knd = 0
  var tmpret70
  var tmp72
  var tmp73
  var tmp74
  var tmp75
  var tmplab, tmplab_js
//
  // __patsflab_my_atscc2jsres_main_arglst
  _libatscc2js_dynload();
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab38
      if(ATSCKptriscons(arg0)) { tmplab_js = 4; break; }
      case 2: // __atstmplab39
      tmpret70 = [0, "", ""];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab40
      case 4: // __atstmplab41
      tmp72 = emcc_comarglst(arg0);
      tmp73 = _libatscc2js_atscc2js_main0_arglst(tmp72);
      tmp74 = libatscc2js_stdout_store_join();
      tmp75 = libatscc2js_stderr_store_join();
      tmpret70 = [tmp73, tmp74, tmp75];
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret70;
} // end-of-function


function
__patsfun_34(arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_34
  ats2js_worker_rpc_server__0__1(arg0, __patsfun_49__closurerize());
  return/*_void*/;
} // end-of-function


function
ats2js_worker_rpc_server__0__1(arg0, arg1)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_rpc_server
  ats2js_worker_chanpos0_recv(arg0, __patsfun_1__1__1__closurerize(arg1));
  return/*_void*/;
} // end-of-function


function
__patsfun_1__1__1(env0, arg0, arg1)
{
//
// knd = 0
  var tmp2__1
  var tmp3__1
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_1
  tmp3__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__37__1(arg1);
  tmp2__1 = env0[0](env0, tmp3__1);
  ats2js_worker_chanpos0_send(arg0, tmp2__1, __patsfun_2__2__1__closurerize(env0));
  return/*_void*/;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__37__1(arg0)
{
//
// knd = 0
  var tmpret83__1
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret83__1 = aux_38__38__1(arg0);
  return tmpret83__1;
} // end-of-function


function
aux_38__38__1(arg0)
{
//
// knd = 0
  var tmpret84__1
  var tmp85__1
  var tmp86__1
  var tmp87__1
  var tmp88__1
  var tmplab, tmplab_js
//
  // __patsflab_aux_38
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab42
      if(ATSCKptriscons(arg0)) { tmplab_js = 4; break; }
      case 2: // __atstmplab43
      tmpret84__1 = null;
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab44
      case 4: // __atstmplab45
      tmp85__1 = arg0[0];
      tmp86__1 = arg0[1];
      tmp87__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__31__1(tmp85__1);
      tmp88__1 = aux_38__38__1(tmp86__1);
      tmpret84__1 = [tmp87__1, tmp88__1];
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret84__1;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__31__1(arg0)
{
//
// knd = 0
  var tmpret58__1
  var tmp60__1
  var tmp61__1
  var tmp62__1
  var tmp63__1
  var tmp64__1
  var tmp65__1
  var tmp66__1
  var tmp67__1
  var tmp68__1
  var tmp69__1
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmp61__1 = ats2jspre_JSarray_get_at(arg0, 0);
  tmp60__1 = parseInt(tmp61__1);
  ats2jspre_JSarray_set_at(arg0, 0, tmp60__1);
  // ATScaseofseq_beg
  tmplab_js = 1;
  while(true) {
    tmplab = tmplab_js; tmplab_js = 0;
    switch(tmplab) {
      // ATSbranchseq_beg
      case 1: // __atstmplab30
      if(!ATSCKpat_con1(arg0, 0)) { tmplab_js = 3; break; }
      case 2: // __atstmplab31
      tmp62__1 = arg0[1];
      tmp66__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__1(tmp62__1);
      tmpret58__1 = [0, tmp66__1];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 3: // __atstmplab32
      if(!ATSCKpat_con1(arg0, 1)) { tmplab_js = 5; break; }
      case 4: // __atstmplab33
      tmp63__1 = arg0[1];
      tmp67__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__2(tmp63__1);
      tmpret58__1 = [1, tmp67__1];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 5: // __atstmplab34
      if(!ATSCKpat_con1(arg0, 2)) { tmplab_js = 7; break; }
      case 6: // __atstmplab35
      tmp64__1 = arg0[1];
      tmp68__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__3(tmp64__1);
      tmpret58__1 = [2, tmp68__1];
      break;
      // ATSbranchseq_end
      // ATSbranchseq_beg
      case 7: // __atstmplab36
      case 8: // __atstmplab37
      tmp65__1 = arg0[1];
      tmp69__1 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__4(tmp65__1);
      tmpret58__1 = [3, tmp69__1];
      break;
      // ATSbranchseq_end
    } // end-of-switch
    if (tmplab_js === 0) break;
  } // endwhile
  // ATScaseofseq_end
  return tmpret58__1;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__1(arg0)
{
//
// knd = 0
  var tmpret107__1
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret107__1 = arg0;
  return tmpret107__1;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__2(arg0)
{
//
// knd = 0
  var tmpret107__2
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret107__2 = arg0;
  return tmpret107__2;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__3(arg0)
{
//
// knd = 0
  var tmpret107__3
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret107__3 = arg0;
  return tmpret107__3;
} // end-of-function


function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_contrib_057_libatscc_057_libatscc2js_057_SATS_057_Worker_057_channel_056_sats__chmsg_parse__42__4(arg0)
{
//
// knd = 0
  var tmpret107__4
  var tmplab, tmplab_js
//
  // __patsflab_chmsg_parse
  tmpret107__4 = arg0;
  return tmpret107__4;
} // end-of-function


function
__patsfun_2__2__1(env0, arg0)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_2
  ats2js_worker_rpc_server_cont__33__1(arg0, env0);
  return/*_void*/;
} // end-of-function


function
ats2js_worker_rpc_server_cont__33__1(arg0, arg1)
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // __patsflab_rpc_server_cont
  ats2js_worker_chanpos0_close(arg0);
  return/*_void*/;
} // end-of-function


function
__patsfun_49(arg0)
{
//
// knd = 0
  var tmpret114
  var tmplab, tmplab_js
//
  // __patsflab___patsfun_49
  tmpret114 = _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__my_atscc2jsres_main_arglst(arg0);
  return tmpret114;
} // end-of-function

// dynloadflag_minit
var _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag = 0;

function
_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynload()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  // ATSdynload()
  // ATSdynloadflag_sta(_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag(163))
  if(ATSCKiseqz(_057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag)) {
    _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynloadflag = 1 ; // flag is set
    ats2js_worker_chanpos0_send(0, 0, __patsfun_34__closurerize());
  } // endif
  return/*_void*/;
} // end-of-function


function
the_libatscc2js_worker_start()
{
//
// knd = 0
  var tmplab, tmplab_js
//
  _057_home_057_hwxi_057_Research_057_ATS_055_Postiats_055_contrib_057_projects_057_MEDIUM_057_CATS_055_atsccomp_057_CATS_055_atscc2js_057_CBOOT_057_JS_057_TEST_057_libatscc2js_worker_056_dats__dynload();
  return/*_void*/;
} // end-of-function


/* ATSextcode_beg() */
//
function
the_libatscc2js_main() { return the_libatscc2js_worker_start(); }
//
/* ATSextcode_end() */

/* ****** ****** */

/* end-of-compilation-unit */
