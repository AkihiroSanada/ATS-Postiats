######
#
# This is for generating atslib source code
# [atslib] currently includes the following ones:
# [prelude], [libc] and [libats]
#
#
######

all:: prelude

######

prelude:: prelude_sats
prelude:: prelude_dats
prelude:: prelude_cats

prelude_sats:
	make -C prelude/SATS/CODEGEN -f Makefile_gen
	make -C prelude/SATS/CODEGEN -f Makefile all
prelude_dats:
	make -C prelude/DATS/CODEGEN -f Makefile_gen
	make -C prelude/DATS/CODEGEN -f Makefile all
prelude_cats:
	make -C prelude/CATS/CODEGEN -f Makefile_gen
	make -C prelude/CATS/CODEGEN -f Makefile all

######

all:: libc

######

libc:: libc_sats

libc_sats:
	make -C libc/SATS/CODEGEN -f Makefile_gen
	make -C libc/SATS/CODEGEN -f Makefile all
libc_dats:
	make -C libc/DATS/CODEGEN -f Makefile_gen
	make -C libc/DATS/CODEGEN -f Makefile all
libc_cats:
	make -C libc/CATS/CODEGEN -f Makefile_gen
	make -C libc/CATS/CODEGEN -f Makefile all

######

clean:: ; make -C prelude/SATS/CODEGEN -f Makefile clean
clean:: ; make -C prelude/DATS/CODEGEN -f Makefile clean
clean:: ; make -C prelude/CATS/CODEGEN -f Makefile clean

cleanall:: ; make -C prelude/SATS/CODEGEN -f Makefile cleanall
cleanall:: ; make -C prelude/DATS/CODEGEN -f Makefile cleanall
cleanall:: ; make -C prelude/CATS/CODEGEN -f Makefile cleanall

###### end of [Makefile_atslib] ######
